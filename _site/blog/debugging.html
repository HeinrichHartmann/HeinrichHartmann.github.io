<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
   <title>Debugging</title>
   <meta name="author" content="Heinrich Hartmann"/>

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css"/>

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection"/>

   <!-- RSS feed -->
   <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">

   <!-- Favicon -->
   <link rel="icon" type="image/png" href="/images/favicon.png">

   
   </head>
<body>

<div class="site">
  <div class="title">
    <a href="/">Heinrich Hartmann</a>
    <a class="extra" href="/opinion.html">opinion</a>
    <a class="extra" href="/consulting.html">consulting</a>
    <a class="extra" href="/about.html">about</a>
    <div class="social" style='float:right'>
      <div style='float:right'>
        <a href="http://eepurl.com/ccmH-T"><img src="/images/mail_icon.svg" width="25px"/></a>
      </div>
      <div style='float:right'>
        <a href="/feed.xml"><img src="/images/rss_icon.svg" width="25px" style="margin: 0 10px 0 0;"/></a>
      </div>
      <div style='float:right'>
        <a href="http://twitter.com/intent/follow?screen_name=HeinrichHartman"><img src="/images/twitter_icon.svg" width="25px" style="margin: 0 10px 0 0;"></a>
      </div>
    </div>
  </div>
  

  <div id="post">

  <!-- Title -->
  <h1> Debugging</h1>

  
  <h1 class="sticker"> UNPUBLISHED DRAFT </h1>
  


  <!-- Meta -->
  <p class="meta">
    Written on 2018-03-17
     in Stemwede, Germany 
    
  </p>

  <!-- Splash -->
  

  <!-- Post content -->
  <p>Debugging is one of the major activities while developing software.
Debugging is not only about finding bugs but also about understanding sofware.
As such it has a lot incommon with monitoring and observability.</p>

<p>In this post I’ll formulate some goals or principles on what I thing a good debugging session should looks like.
We will then see how far we get to realizing those goals with gdb.</p>

<ol>
  <li>
    <p><strong>Don’t stop the program.</strong>
We need to be able to observe programs running in the wild.
Creating process state is a highly delicate process.
There might be startup scripts involved, that carefully craft an environment.
There might be multiple forks before the process we are interested in is created.
Sometimes the condition might be impossible to reproduce in a controlled environment.
A faulty process state is something precious.
Don’t destroy it needlessly.</p>
  </li>
  <li><strong>No interactive debugging.</strong>
Setting breakpoints and stepping through code is tedious and often not very enlightening.
    <ol>
      <li>Inspect the source or backtraces.</li>
      <li>Decide what you want to know next, in the form of a question. (“What are the arguments to this function”?)</li>
      <li>Write the instrumentation to answer that question.</li>
      <li>Trigger the condition. (E.g. make the web request)</li>
      <li>Inspect the answer.</li>
    </ol>
  </li>
  <li><strong>Repeatable.</strong>
A debugging session should be programmatic and repeatable.
If the process experiences a similar problem you can build upon what you already have.</li>
</ol>

<h2 id="methods">Methods</h2>

<h3 id="core-dumps">Core dumps</h3>

<p>Don’t</p>


  <!-- Comments -->
  
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES * * */
      var disqus_shortname = 'heinrichhartmann';
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments</a></noscript>
  
</div>


  <div class="footer">
    <div class="contact">
      <p>
        Licensed under <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC-BY 4.0.</a>
        <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title" style="display:none">This blog</span>
        <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName" style="display:none">Heinrich Hartmann</span>
      </p>
    </div>
  </div>
</div>



<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53959000-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
