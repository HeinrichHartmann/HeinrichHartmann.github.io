<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Home Lab Observability</title>
	
	
	
  
  <link rel="icon" type="image/png" href="/favicon.png">
  <style>
    
   header a {
  text-align: center;
  width: 100%;
  font-family: Helvetica, arial, sans-serif;
  font-size: 20px;
  color: #a00;
  font-weight: bold;
  margin-top: 2em;
  text-decoration: none;
  display: block;
}

header a {
  color: #00a;
}

header a:hover {
  color: black;
}

header a:visited {
  color: #a00;
}

.sticker {
  color:red;
  display: block;
  border-style:solid !important;
  border-color:red !important;
  border-radius:0.2em !important;
  border-width: 3px !important;
  padding: 0px !important;
  text-align: center !important;
  margin-top: 50px !important;
  margin-bottom: 50px !important;
}

    
   /* Background */ .chroma { background-color: #f8f8f8 }
/* Other */ .chroma .x { color: #000000 }
/* Error */ .chroma .err { color: #a40000 }
/* LineTableTD */ .chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
/* LineTable */ .chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; width: auto; overflow: auto; display: block; }
/* LineHighlight */ .chroma .hl { display: block; width: 100%;background-color: #ffffcc }
/* LineNumbersTable */ .chroma .lnt { margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* LineNumbers */ .chroma .ln { margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
/* Keyword */ .chroma .k { color: #204a87; font-weight: bold }
/* KeywordConstant */ .chroma .kc { color: #204a87; font-weight: bold }
/* KeywordDeclaration */ .chroma .kd { color: #204a87; font-weight: bold }
/* KeywordNamespace */ .chroma .kn { color: #204a87; font-weight: bold }
/* KeywordPseudo */ .chroma .kp { color: #204a87; font-weight: bold }
/* KeywordReserved */ .chroma .kr { color: #204a87; font-weight: bold }
/* KeywordType */ .chroma .kt { color: #204a87; font-weight: bold }
/* Name */ .chroma .n { color: #000000 }
/* NameAttribute */ .chroma .na { color: #c4a000 }
/* NameBuiltin */ .chroma .nb { color: #204a87 }
/* NameBuiltinPseudo */ .chroma .bp { color: #3465a4 }
/* NameClass */ .chroma .nc { color: #000000 }
/* NameConstant */ .chroma .no { color: #000000 }
/* NameDecorator */ .chroma .nd { color: #5c35cc; font-weight: bold }
/* NameEntity */ .chroma .ni { color: #ce5c00 }
/* NameException */ .chroma .ne { color: #cc0000; font-weight: bold }
/* NameFunction */ .chroma .nf { color: #000000 }
/* NameFunctionMagic */ .chroma .fm { color: #000000 }
/* NameLabel */ .chroma .nl { color: #f57900 }
/* NameNamespace */ .chroma .nn { color: #000000 }
/* NameOther */ .chroma .nx { color: #000000 }
/* NameProperty */ .chroma .py { color: #000000 }
/* NameTag */ .chroma .nt { color: #204a87; font-weight: bold }
/* NameVariable */ .chroma .nv { color: #000000 }
/* NameVariableClass */ .chroma .vc { color: #000000 }
/* NameVariableGlobal */ .chroma .vg { color: #000000 }
/* NameVariableInstance */ .chroma .vi { color: #000000 }
/* NameVariableMagic */ .chroma .vm { color: #000000 }
/* Literal */ .chroma .l { color: #000000 }
/* LiteralDate */ .chroma .ld { color: #000000 }
/* LiteralString */ .chroma .s { color: #4e9a06 }
/* LiteralStringAffix */ .chroma .sa { color: #4e9a06 }
/* LiteralStringBacktick */ .chroma .sb { color: #4e9a06 }
/* LiteralStringChar */ .chroma .sc { color: #4e9a06 }
/* LiteralStringDelimiter */ .chroma .dl { color: #4e9a06 }
/* LiteralStringDoc */ .chroma .sd { color: #8f5902; font-style: italic }
/* LiteralStringDouble */ .chroma .s2 { color: #4e9a06 }
/* LiteralStringEscape */ .chroma .se { color: #4e9a06 }
/* LiteralStringHeredoc */ .chroma .sh { color: #4e9a06 }
/* LiteralStringInterpol */ .chroma .si { color: #4e9a06 }
/* LiteralStringOther */ .chroma .sx { color: #4e9a06 }
/* LiteralStringRegex */ .chroma .sr { color: #4e9a06 }
/* LiteralStringSingle */ .chroma .s1 { color: #4e9a06 }
/* LiteralStringSymbol */ .chroma .ss { color: #4e9a06 }
/* LiteralNumber */ .chroma .m { color: #0000cf; font-weight: bold }
/* LiteralNumberBin */ .chroma .mb { color: #0000cf; font-weight: bold }
/* LiteralNumberFloat */ .chroma .mf { color: #0000cf; font-weight: bold }
/* LiteralNumberHex */ .chroma .mh { color: #0000cf; font-weight: bold }
/* LiteralNumberInteger */ .chroma .mi { color: #0000cf; font-weight: bold }
/* LiteralNumberIntegerLong */ .chroma .il { color: #0000cf; font-weight: bold }
/* LiteralNumberOct */ .chroma .mo { color: #0000cf; font-weight: bold }
/* Operator */ .chroma .o { color: #ce5c00; font-weight: bold }
/* OperatorWord */ .chroma .ow { color: #204a87; font-weight: bold }
/* Punctuation */ .chroma .p { color: #000000; font-weight: bold }
/* Comment */ .chroma .c { color: #8f5902; font-style: italic }
/* CommentHashbang */ .chroma .ch { color: #8f5902; font-style: italic }
/* CommentMultiline */ .chroma .cm { color: #8f5902; font-style: italic }
/* CommentSingle */ .chroma .c1 { color: #8f5902; font-style: italic }
/* CommentSpecial */ .chroma .cs { color: #8f5902; font-style: italic }
/* CommentPreproc */ .chroma .cp { color: #8f5902; font-style: italic }
/* CommentPreprocFile */ .chroma .cpf { color: #8f5902; font-style: italic }
/* Generic */ .chroma .g { color: #000000 }
/* GenericDeleted */ .chroma .gd { color: #a40000 }
/* GenericEmph */ .chroma .ge { color: #000000; font-style: italic }
/* GenericError */ .chroma .gr { color: #ef2929 }
/* GenericHeading */ .chroma .gh { color: #000080; font-weight: bold }
/* GenericInserted */ .chroma .gi { color: #00a000 }
/* GenericOutput */ .chroma .go { color: #000000; font-style: italic }
/* GenericPrompt */ .chroma .gp { color: #8f5902 }
/* GenericStrong */ .chroma .gs { color: #000000; font-weight: bold }
/* GenericSubheading */ .chroma .gu { color: #800080; font-weight: bold }
/* GenericTraceback */ .chroma .gt { color: #a40000; font-weight: bold }
/* GenericUnderline */ .chroma .gl { color: #000000; text-decoration: underline }
/* TextWhitespace */ .chroma .w { color: #f8f8f8; text-decoration: underline }

   
      
     .markdown-container {
  width: 48em;
  margin-right: auto;
  margin-left: auto;
  box-sizing: border-box;
  padding: 45px 45px 5px 45px;
}


/**
 * Responsive
 **/
@media only screen and (max-width: 48em) {
    .markdown-container {
        text-align: left;
        width: 100%;
        margin: 0;
        margin-top: 3em;
        padding: 0.1em;
    }
}

.markdown-container:after {
  display:table;
  clear:both;
}
.markdown-container:before {
  display:table;
  content:" ";
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body h1:hover .anchor .octicon-link:before,
.markdown-body h2:hover .anchor .octicon-link:before,
.markdown-body h3:hover .anchor .octicon-link:before,
.markdown-body h4:hover .anchor .octicon-link:before,
.markdown-body h5:hover .anchor .octicon-link:before,
.markdown-body h6:hover .anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'%3E%3C/path%3E%3C/svg%3E");
}.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  line-height: 1.5;
  color: #24292e;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: initial;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: initial;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
}

.markdown-body hr:after,
.markdown-body hr:before {
  display: table;
  content: "";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body table {
  border-spacing: 0;
  border-collapse: collapse;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #d1d5da;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-top: 0;
  margin-bottom: 10px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  margin: 0;
  -webkit-appearance: none;
  appearance: none;
}

.markdown-body :checked+.radio-label {
  position: relative;
  z-index: 1;
  border-color: #0366d6;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-top: 8px!important;
  margin-bottom: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-top: 0!important;
  padding-bottom: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-top: 8px!important;
  padding-bottom: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  color: #fafbfc;
  background-color: #b31d28;
}

.markdown-body .pl-c2 {
  color: #fafbfc;
  background-color: #d73a49;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  font-weight: 700;
  color: #22863a;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  font-weight: 700;
  color: #005cc5;
}

.markdown-body .pl-mi {
  font-style: italic;
  color: #24292e;
}

.markdown-body .pl-mb {
  font-weight: 700;
  color: #24292e;
}

.markdown-body .pl-md {
  color: #b31d28;
  background-color: #ffeef0;
}

.markdown-body .pl-mi1 {
  color: #22863a;
  background-color: #f0fff4;
}

.markdown-body .pl-mc {
  color: #e36209;
  background-color: #ffebda;
}

.markdown-body .pl-mi2 {
  color: #f6f8fa;
  background-color: #005cc5;
}

.markdown-body .pl-mdr {
  font-weight: 700;
  color: #6f42c1;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  text-decoration: underline;
  color: #032f62;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
}

.markdown-body .my-2 {
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-top: 0!important;
  padding-bottom: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-top: 8px!important;
  padding-bottom: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  line-height: 10px;
  color: #444d56;
  vertical-align: middle;
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #d1d5da;
}

.markdown-body:after,
.markdown-body:before {
  display: table;
  content: "";
}

.markdown-body:after {
  clear: both;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body details,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: .25em;
  padding: 0;
  margin: 24px 0;
  background-color: #e1e4e8;
  border: 0;
}

.markdown-body blockquote {
  padding: 0 1em;
  color: #6a737d;
  border-left: .25em solid #dfe2e5;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: 600;
  line-height: 1.25;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  padding-bottom: .3em;
  border-bottom: 1px solid #eaecef;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  font-size: .85em;
  color: #6a737d;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  padding: 6px 13px;
  border: 1px solid #dfe2e5;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  max-width: 100%;
  box-sizing: initial;
  background-color: #fff;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  padding: .2em .4em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f6f8fa;
  border-radius: 3px;
}

.markdown-body pre code {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: initial;
  border: 0;
}

.markdown-body .commit-tease-sha {
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 90%;
  color: #444d56;
}

.markdown-body .full-commit .btn-outline:not(:disabled):hover {
  color: #005cc5;
  border-color: #005cc5;
}

.markdown-body .blob-wrapper {
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  width: 1%;
  min-width: 50px;
  padding-right: 10px;
  padding-left: 10px;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
  line-height: 20px;
  color: rgba(27,31,35,.3);
  text-align: right;
  white-space: nowrap;
  vertical-align: top;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  position: relative;
  padding-right: 10px;
  padding-left: 10px;
  line-height: 20px;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  overflow: visible;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;
  font-size: 12px;
  color: #24292e;
  word-wrap: normal;
  white-space: pre;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  cursor: pointer;
  background: #ffea7f;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

/* Center inline tweets */
.twitter-tweet {
  margin-left: auto;
  margin-right: auto;
}

.Box-header {
  display: flex !important;
  padding: 16px;
  padding-top: 16px;
  padding-bottom: 16px;
  margin: -1px -1px 0;
  background-color: #f6f8fa;
  border: 1px solid #d1d5da;
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
}

.markdown-frame {
  border: 1px solid #ddd;
  border-radius: 3px;
}

   
  </style>
</head>
<body>
	<header>
	<a href="/">HeinrichHartmann.com</a>
</header>

	
  <main class="markdown-container">
    <article class="markdown-body">
      <h1 class="sticker"> UNPUBLISHED DRAFT </h1>
      <h1>Home Lab Observability</h1>
      <img class="backdrop" src="/posts/2023-06-10-home-lab/backdrop2.png"></img>
      <p class="meta" style="color:#aaa; float:right">
         Boltenhagen, 
        2023-06-12
        
      </p>
      <div style="clear:both">
	<style>
.admonition {
    padding: 0px 0px 0px 10pt;
    margin-bottom: 21px;
    border-left: 3px solid transparent;
}
.admonition .title {
    font-weight: bold;
    padding-bottom: 3pt;
    /* border: 1px solid; border-style: hidden hidden solid; */
}
.note {
    border-color: #9d9d9d;
}
.backdrop {
    opacity: 1.0;
}
</style>
<p>In this post, I will walk you through the observability tooling I am using form my home-lab.
I have recently explained the infrastructure setup in <a href="/posts/home-lab-2023/">this blog post</a>.</p>
<p><strong>Design Goals for the Observability Setup</strong></p>
<ul>
<li>Explore and try-out modern open-source observability tooling: OpenTelemetry, Prometheus, Loki, Jaeger, Grafana, &hellip;</li>
<li>Try out free-tier SaaS Observability Solutions: GrafanaCloud, LightStep, NewRelic, DataDog, &hellip;</li>
<li>Esablish best-practice observability for home-lab including:
<ul>
<li>Synthetic availability measurements for all exposed web-services</li>
<li>Log aggregation and query capabilities for docker and systemd logs</li>
<li>Distributed tracing for the Ingress Proxy</li>
<li>RED Metrics for all Web APIs</li>
<li>Resource monitoring for all running containers</li>
</ul>
</li>
</ul>
<p><strong>Outline</strong></p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#the-opentelemetry-collector">The OpenTelemetry Collector</a></li>
    <li><a href="#host-availability">Host Availability</a></li>
    <li><a href="#synthetic-probing">Synthetic Probing</a></li>
    <li><a href="#container-logs">Container Logs</a></li>
    <li><a href="#access-logs">Access Logs</a></li>
    <li><a href="#host-telemetry">Host Telemetry</a></li>
  </ul>
</nav>
<h2 id="the-opentelemetry-collector">The OpenTelemetry Collector</h2>
<p>The central hub of the setup is the OpenTelemetry (OTEL) Collector.</p>
<p>OpenTelemetry is a industry standard, that is bridging across a large number of vendors and open source tools and covers all three telemetry pillars (logs, metrics and traces).
The open telemetry collector is a general data-broker, that accepts telemetry from a large variety of sources (aka. <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver">receivers</a>) and is able to forward telemetry to a large variety of telemetry backend systems (see <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter">exporters</a>).</p>
<p><img src="/posts/2023-06-10-home-lab/d963aec2-a5d0-42de-8f3f-388f1354ad71.png" alt="image"></p>
<!-- flowchart LR -->
<!--     subgraph "Telemetry Sources" -->
<!--         A1[App1] -->
<!--         A2[App2] -->
<!--         A3[App3] -->
<!--     end -->
<!--     OtelCollector(("OpenTelemetry Collector")) -->
<!--     subgraph "Telemetry Backends" -->
<!--         B1[Backend1] -->
<!--         B2[Backend2] -->
<!--         B3[Backend3] -->
<!--     end -->
<!--     A1 -.-> |Traces, Metrics, Logs| OtelCollector -->
<!--     A2 -.-> |Traces, Metrics, Logs| OtelCollector -->
<!--     A3 -.-> |Traces, Metrics, Logs| OtelCollector -->
<!--     OtelCollector -.-> |Traces, Metrics, Logs| B1 -->
<!--     OtelCollector -.-> |Traces, Metrics, Logs| B2 -->
<!--     OtelCollector -.-> |Traces, Metrics, Logs| B3 -->
<p>This means that:</p>
<ol>
<li>By sending all all telemetry sources (logs, metrics, traces) to the Otel collector, we are making them generally available in all backend systems.</li>
<li>By integrating backend systems against the Otel collector, it gains access to all telemetry data at once.</li>
</ol>
<p>The second property has something quite magical, as it makes experimenting with vendors extremely straight-forward. Example: There four config lines is all that is needed to send all telemetry to a LightStep account:</p>
<pre tabindex="0"><code>  otlp/ls:
     endpoint: ingest.lightstep.com:443
     headers:
       &#34;lightstep-access-token&#34; : ${env:LIGHTSTEP_TOKEN}
</code></pre><p>The source <a href="https://github.com/HeinrichHartmann/svc/blob/master/services/monitoring/otel/otel-collector-config.yaml">config file</a> has more examples. While some of them required some more fine tuning to make work, the process of on-boarding a new backed systems is a matter of a few minutes or hours in the worst case. Contrast this with the days before OTel where switching a vendor, required to deploy new agents across all hosts and possible re-do all instrumentation.</p>
<h2 id="host-availability">Host Availability</h2>
<p><img src="/posts/2023-06-10-home-lab/hosts-2.png" alt="image"></p>
<p><img src="/posts/2023-06-10-home-lab/hosts.png" alt="image"></p>
<h2 id="synthetic-probing">Synthetic Probing</h2>
<p>The most important question any telemetry system has to answer is: &ldquo;Is it up right now?&rdquo;.</p>
<p>The way I choose to check this in my setup is to probe each HTTP API every 15 seconds, and see if I get back a 200 OK or (401 Unauthorized) response. For other services (e.g. samba), I check that a tcp connection can be established.
This is how I present this information on the dashboard:</p>
<p><img src="/posts/2023-06-10-home-lab/dbcd6446-b8af-4b8f-babe-cd803f3fb9d0.png" alt="image"></p>
<p><strong>Implementation</strong></p>
<ul>
<li>Services are discovered form the local configuration with a <a href="https://github.com/HeinrichHartmann/svc/blob/master/services/monitoring/Makefile#L4-L11">small shell script</a> that scans my docker-compose files for load-balancer configuration. The shell script is run every hour from cron, and keeps a file <a href="https://github.com/HeinrichHartmann/svc/blob/master/services/monitoring/otel/pinghosts.yaml">pinghosts.yaml</a> up to date.</li>
<li>Prometheus + Blackbox exporter are used to probe all the APIS. This results in metrics <code>probe_success</code> being published for each target that take values 1 or 0 corresponding to the availability status.</li>
<li>Grafana State Timeline panel is used for the final visualization.</li>
</ul>
<p><strong>Open Ends</strong></p>
<ul>
<li>Prometheus metrics actually do not go through the OTel collector at the moment. Surprisingly there is no good way to send Prometheus data to an OTel Collector. The official way seems to be to scrape metrics directly from the OTel collector, with a builtin prometheus receiver module. However, I do have working Prometheus setup, and copying the config 1o1 did not work on the spot. Given that Prometheus supports <a href="https://grafana.com/docs/grafana-cloud/kubernetes-monitoring/other-methods/prometheus/remote_write_operator/">remote write</a> developing the corresponding receiver should be a relatively straight forward project.</li>
<li>Deploy a second probing location to get a look from the outside. As all services are only exposed on a trusted network (VPN, LAN) we can&rsquo;t use SaaS tools for this, but need to deploy another Prometheus instance on the network.</li>
</ul>
<h2 id="container-logs">Container Logs</h2>
<p>When a service becomes unavailable the next step is usually to check the logs.
This is the view that I built out for this purpose:</p>
<p><img src="/posts/2023-06-10-home-lab/0cd1d70e-64b6-4176-8528-dd5c80d0d000.png" alt="image"></p>
<p>The graph on the top shows the log volume we have for each container. The listing below the graph, shows logs.
The variable on the top allows for isolation of individual containers. If a container is selected, both panels are filtered for the specific container.</p>
<p><strong>Implementation</strong></p>
<ul>
<li>Logs are exported by the docker daemon using the <a href="https://docs.docker.com/config/containers/logging/fluentd/">fluentd log driver</a> as configured <a href="https://github.com/HeinrichHartmann/svc/blob/master/nixos/etc/configuration.nix#L68-L73">here</a></li>
<li>The OTel collector has a <a href="https://github.com/HeinrichHartmann/svc/blob/master/services/monitoring/otel/otel-collector-config.yaml#L23C24-L25">fluentd receiver</a> configured and forwards this logs to Loki</li>
<li>Loki is used for storage and retrieval of logs</li>
<li>The Grafana dashboard makes use of the Loki DataSource</li>
</ul>
<p><strong>Alternative</strong></p>
<ul>
<li><a href="https://dozzle.dev/">Dozzle</a> provide a simple turn-key solution for viewing container logs</li>
</ul>
<p><strong>Open Ends</strong></p>
<ul>
<li>A Live trail function is missing.</li>
</ul>
<h2 id="access-logs">Access Logs</h2>
<p>The next piece in our observability journey, is to gain information about which requests have been made to HTTP apis.
Emitting access logs to a logging is a problematic practice, since they are quite expensive to index easily leak PII, and are hard to correlate across different services. Of course these issues are not that relevant for a home-lab setup. However, with distributed tracing we have a much more powerful telemetry type at our disposal that covers accesslogs as a special case.</p>
<p>This is how this looks like:
<img src="/posts/2023-06-10-home-lab/01a7cce0-2aea-4063-8557-53d994afa141.png" alt="image"></p>
<p><strong>Implementation</strong></p>
<ul>
<li>We are collecting tracing data from the ingress proxy traefik (<a href="https://github.com/HeinrichHartmann/svc/blob/master/services/traefik/traefik.toml#L46">config</a>)</li>
<li>Data is received by a jaeger receiver on the OTel collector (<a href="https://github.com/HeinrichHartmann/svc/blob/master/services/monitoring/otel/otel-collector-config.yaml">config</a>) and forward to three different tracing backends:
<ul>
<li>A local Jaeger installation</li>
<li>Grafana Cloud (providing Temo-aaS)</li>
<li>LightStep</li>
</ul>
</li>
<li>The screenshot above is taken from the LightStep UI (using the Explorer function)</li>
</ul>
<p><strong>Shortcomings</strong>
Somewhat surprisingly the tracing back-ends I have tried do not seem to cater towards the access logs use-case particularly well. Ideally I would like to have a &ldquo;Access Log Tail&rdquo; widget on a Grafana Dashboards, that gives me a
live view about what requests are being served. With the said backends I did not get very far:</p>
<ul>
<li>
<p>Jaeger and Tempo on Grafana Cloud currently has no no possibility to show basic meta data about traces in the list.
They allow to filter spans on basic metadata and present a list of span-ids with only minimal context information.
This is not suitable for the acesslog use-case which needs URL and HTTP return code information at the very least.</p>
</li>
<li>
<p>The LightStep Explorer above is the closest I have been able to get. It still has some gaps:</p>
<ul>
<li>No possibility to add more than one attribute to the list</li>
<li>No ability to save or embed an explorer view</li>
<li>No ability to keep a live-trail of data (only snapshots are collected when &ldquo;play&rdquo; is pressed</li>
<li>LightStep seems to be moving away from the Explorer without suitable replacements (see <a href="https://app.lightstep.com/play/explorer">https://app.lightstep.com/play/explorer</a>)</li>
</ul>
</li>
<li>
<p>There is also no OTel Processor available, that is allowing to covert spans into logs. This would only be a workaround since we don&rsquo;t want to index access logs in a logging backend, but the feature is super straight forward and provides the requested features.</p>
</li>
</ul>
<p><strong>Open Ends</strong></p>
<ul>
<li>It would be great to have access log information for tcp services (like samba) as well.</li>
<li>From the ~20 services I run internally only one (Grafana) is currently configured for tracing and provices internal spans about the interactions.</li>
</ul>
<h2 id="host-telemetry">Host Telemetry</h2>
<h1 id="gaps">Gaps</h1>
<p><strong>Active Operations.</strong> Tracing systems have information about which operations are currently ongoing. This is most relevant information. Just the count of open HTTP operations is already very valuable. Yet, I don&rsquo;t see any tooling that exposes this information.</p>
<p>Examples:</p>
<ul>
<li><a href="https://github.com/open-telemetry/opentelemetry-specification/blob/main/experimental/trace/zpages.md#tracez">otel-collector/zpages</a> has information of running traces</li>
<li><a href="https://www.postgresql.org/docs/current/monitoring-stats.html#MONITORING-PG-STAT-ACTIVITY-VIEW">pg_stats_activity</a></li>
<li><a href="https://www.heinrichhartmann.com/posts/crash/#salvaging-active-http-requests">Circonus IRONdb</a> HTTP Observer / Crash Reporter</li>
</ul>
<p><strong>Access Logs.</strong></p>
<p>Which operations completed in the last minutes is the next interesting question you may ask about a system. Give me a list of requested URLs and the return codes. Again, tracing systems have this information but they don&rsquo;t cater to this use case.</p>
<ul>
<li>
<p>Tempo on Grafana Cloud
<img src="/posts/2023-06-10-home-lab/b36ebf12-e033-4ec2-8f5d-e49edea943fd.png" alt="image"></p>
<ul>
<li>No possibility to show basic meta data about traces in the list</li>
</ul>
</li>
<li>
<p>LightStep Explorer
<img src="/posts/2023-06-10-home-lab/5b4fc976-d509-4edc-aee6-105c97e2097a.png" alt="image"></p>
<ul>
<li>No possibility to add more than one attribute to the list</li>
<li>No ability to save or embed an explorer view</li>
<li>No ability to keep a live-trail of data (only snapshots are collected when &ldquo;play&rdquo; is pressed</li>
<li>LightStep seems to be moving away from the Explorer without suitable replacements (see <a href="https://app.lightstep.com/play/explorer">https://app.lightstep.com/play/explorer</a>)</li>
</ul>
</li>
<li>
<p>There is also no OTel Processor available, that is allowing to covert spans into logs. This would only be a workaround since we don&rsquo;t want to index access logs in a logging backend, but the feature is super straight forward and provides the requested features.</p>
</li>
</ul>
<h1 id="comments">Comments</h1>
<script src="https://utteranc.es/client.js"
        repo="HeinrichHartmann/comments"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

      </div>
    </article>
  </main>

	<footer style="float:right; margin: 20px auto 20px auto; color:#AAA">&copy; 2023 Heinrich Hartmann. All rights reserved.</footer>

</body>

</html>
